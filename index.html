<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      margin: 0;
      background-color: #fff;
      color: #000;
      font-family: sans-serif;
      font-size: 18px;
      line-height: 1.5;
    }

    .container {
      height: 5000px;
    }

    .container-2 {
      background: goldenrod;
      height: 7000px;
    }

    /* .content {
      margin: 0 auto;
    }

    .sticky {
      padding-top: 20vh;
      display: flex;
      flex-direction: column;
    }

    .module {
      margin-bottom: 100vh;
      color: #000;
      max-width: 400px;
      transition: color 0.7s;
    }

    .module:nth-child(2n) {
      align-self: flex-start;
      margin-left: 150px;
      z-index: 10;
    }

    .module:nth-child(2n+1) {
      align-self: flex-end;
      margin-right: 150px;
      z-index: 10;
    } */

    .video__container,
    .video__container-2 {
      position: sticky;
      top: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      z-index: 10;
    }

    canvas {
      width: 800px;
      height: 800px;
      will-change: transform;
      transform: translateZ(0);
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="video__container">
      <canvas id="video-canvas"></canvas>
    </div>
    <!-- <div class="content">
      <div class="sticky">
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
        <div class="module" data-role="viewport-highlight">
          <h2>Dolor Sit Amet</h2>
          <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
            et
            dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
            clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
            consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
            sed
            diam voluptua.</p>
        </div>
      </div>
    </div> -->
  </div>

  <div class="container-2">
    <div class="video__container-2">
      <canvas id="video-canvas-2"></canvas>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" type="text/javascript"></script>
  <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

  <script>
    const canvas = document.getElementById("video-canvas");
    const canvas2 = document.getElementById("video-canvas-2");
    const context = canvas.getContext("2d");
    const context2 = canvas2.getContext("2d");
    const frameCount = 232;
    const frameCount2 = 50;
    const currentFrame = index => (
      `https://img.danila-master.ru/uploads/articlesImages/action/classical-monuments/constructor/1/%C2%A0%20(${(index + 1)}).jpg`
    );
    const currentFrame2 = index => (
      `https://img.danila-master.ru/uploads/articlesImages/action/classical-monuments/constructor/2/${(index + 1)}.png`
    );

    const images = []
    const images2 = []
    const cano = {
      frame: 0
    };
    const cano2 = {
      frame: 0
    };

    for (let i = 0; i < frameCount; i++) {
      const img = new Image();
      img.src = currentFrame(i);
      images.push(img);
    }
    for (let i = 0; i < frameCount2; i++) {
      const img2 = new Image();
      img2.src = currentFrame2(i);
      images2.push(img2);
    }

    function render() {
      context.clearRect(0, 0, canvas.width, canvas.height);
      context.drawImage(images[cano.frame], 0, 0, canvas.width, canvas.height);
    }
    function render2() {
      context2.clearRect(0, 0, canvas2.width, canvas2.height);
      context2.drawImage(images2[cano2.frame], 0, 0, canvas2.width, canvas2.height);
    }

    images[0].onload = function () {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      render();
    };
    images2[0].onload = function () {
      canvas2.width = window.innerWidth;
      canvas2.height = window.innerHeight;
      render2();
    };

    gsap.to(cano, {
      frame: frameCount - 1,
      snap: "frame",
      scrollTrigger: {
        start: 'top top',
        end: '+=5000px',
        scrub: 1
      },
      onUpdate: render
    });
    gsap.to(cano2, {
      frame: frameCount2 - 1,
      snap: "frame",
      scrollTrigger: {
        start: '5000px',
        end: '+=5000px',
        scrub: 1
      },
      onUpdate: render2
    });
  </script>

</body>

</html>